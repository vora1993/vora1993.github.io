<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <h3>Background</h3>
    <p>The ImageCapture Web API allows web developers to manipulate "Non-Live"
    camera capabilities and settings such as the photo resolution, red eye
    reduction, and flash mode.</p>
    <p>This sample demonstrates the use of setting the image width of the
    photo.</p>
    
    <video autoplay></video>
    <input type="range">
    <button id="takePhotoButton" disabled>Take Photo</button>
    <canvas></canvas>


    <script>
        const input = document.querySelector('input[type="range"]');

var imageCapture;

navigator.mediaDevices.getUserMedia({video: true})
.then(mediaStream => {
  document.querySelector('video').srcObject = mediaStream;

  const track = mediaStream.getVideoTracks()[0];
  imageCapture = new ImageCapture(track);

  return imageCapture.getPhotoCapabilities();
})
.then(photoCapabilities => {
  const settings = imageCapture.track.getSettings();

  input.min = photoCapabilities.imageWidth.min;
  input.max = photoCapabilities.imageWidth.max;
  input.step = photoCapabilities.imageWidth.step;
  alert(photoCapabilities.fillLightMode)

  return imageCapture.getPhotoSettings();
})
.then(photoSettings => {
  input.value = photoSettings.imageWidth;
})
.catch(error => console.log('Argh!', error.name || error));

    </script>

    <title>Title</title>
</head>
<body>

</body>
</html>
